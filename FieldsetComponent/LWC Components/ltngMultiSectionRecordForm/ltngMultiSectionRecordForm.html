<template>

    <div class="slds-p-horizontal_medium" style="background: rgba(255, 255, 255, 1);">

        <template if:true={showLoading}>
            <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
        </template>

        <!-- ALERT -->
        <template if:true={badConfigMessage}>
            <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error" role="alert">
                <span class="slds-assistive-text">error</span>
                <lightning-icon icon-name="utility:error" alternative-text="Error!" variant="error" size="small"></lightning-icon>
                <h2>{badConfigMessage}</h2>
                </div>
        </template>
        <!-- / ALERT -->

        <!-- RECORD EDIT FORM - CHILD CMP -->
        <template if:true={editForm}>
            <div class="riseTransitionEnabled risen">

                <c-ltng-record-edit-form-child record-id={recordId}
                    object-api-name={objectApiName}
                    fields={fields}
                    section-title={sectionTitle1}
                    onmodechange={switchToViewMode}
                    sections-map={sectionsMap}>
                </c-ltng-record-edit-form-child>

            </div>
        </template>

        <!-- Record View Form -->
        <template if:true={viewForm}>
            <!-- Header for the view form to show the edit button -->
            <template if:false={showLoading}>
                <template if:true={actionInHeader}>
                    <template if:false={enableReadOnly}>
                        <div class="slds-align_absolute-center slds-p-around_x-small">
                            <lightning-button label="Edit" variant="neutral" onclick={handleInlineEdit}>Edit</lightning-button>
                        </div>
                    </template>
                </template>
            </template>

            <!-- RECORD VIEW FORM - CHILD CMP -->
            <div>
                <c-ltng-record-view-form-child record-id={recordId}
                    object-api-name={objectApiName}
                    fields={fields}
                    enable-inline-edit={enableInlineEdit}
                    section-title={sectionTitle1}
                    onmodechange={switchToEditMode}
                    sections-map={sectionsMap}>
                </c-ltng-record-view-form-child>

            </div>

            <!-- Footer for the view form to show the edit button -->
            <template if:false={showLoading}>
                <template if:true={actionInFooter}>
                    <div class="slds-align_absolute-center slds-p-around_x-small">
                        <template if:false={enableReadOnly}>
                            <lightning-button label="Edit" variant="neutral" onclick={handleInlineEdit}>Edit</lightning-button>
                        </template>
                    </div>
                </template>
            </template>
        </template> <!-- viewForm -->

    </div>

</template>